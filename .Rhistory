library(quanteda)
library(quanteda.textstats)
library(dplyr)
library(tidyverse)
library(irr)
library(gridExtra)
library(grid)
library(tikzDevice)
library("readxl")
library(rstudioapi)
# Set working directory to source file location
setwd(dirname(getActiveDocumentContext()$path))
getwd()
#clear working directory
rm(list = ls())
#load coded dataset
hand_coding<-read.csv("hand_coding_sample_70_202310.csv",stringsAsFactors = F,encoding="UTF-8", sep=";")
hand_coding<-hand_coding[ -1,]
hand_coding$coder[hand_coding$coder=="beide -Rebecca"]<-"beide - Rebecca"
#filter into comparison datset of konstantin and rebecca dataset
hand_coding_both<-hand_coding%>%filter(coder%in%c("beide - Konstantin","beide - Rebecca"))
hand_coding_kon<-hand_coding%>%filter(coder=="beide - Konstantin" )
hand_coding_reb<-hand_coding%>%filter(coder=="beide - Rebecca" )
dat1<-hand_coding_kon%>%select(sentence_id,sentence,a1_behavior,coder)
dat2<-hand_coding_reb%>%select(sentence_id,sentence,a1_behavior,coder)
names(dat2)[names(dat2)=="a1_behavior"] <- "a1_behavior_reb"
dat_all<-cbind(dat1,dat2)
dat_all$a1_behavior[dat_all$a1_behavior==4]<-0
dat_all$a1_behavior_reb[dat_all$a1_behavior_reb==4]<-0
dat_all$a1_behavior[dat_all$a1_behavior==3]<-1
dat_all$a1_behavior_reb[dat_all$a1_behavior_reb==3]<-1
dat_all$a1_behavior[dat_all$a1_behavior==2]<-1
dat_all$a1_behavior_reb[dat_all$a1_behavior_reb==2]<-1
#dataset, all the same coding for a1_behavior (explanans coding)
dat_all_same<-subset(dat_all,a1_behavior==a1_behavior_reb)
#dataset, not the same coding for a1_behaviour (explanans coding)
dat_all_not_same<-subset(dat_all,a1_behavior!=a1_behavior_reb)
write.csv(dat_all_not_same, 'dat_all_not_same_2.csv', row.names = FALSE,fileEncoding = "UTF-8")
